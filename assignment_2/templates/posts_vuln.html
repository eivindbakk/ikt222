{% extends "base.html" %}
{% block content %}
<h1 class="danger">Vulnerable posts (XSS possible)</h1>
<p>
    This page deliberately renders user content <strong>without encoding</strong>
    using Jinja’s <code>|safe</code> / <code>Markup</code>. Any stored script will execute in each visitor’s browser.
</p>
<div>
    {% for p in posts %}
    <div class="post">
        <div class="meta">{{ p.created_at }} — by <strong>{{ p.author }}</strong></div>
        <div class="content">
            <!-- Intentionally unsafe: HTML executes -->
            {{ p.content_html }}
        </div>
    </div>
    {% else %}
    <em>No posts yet.</em>
    {% endfor %}
</div>
{% endblock %}
